# typst-tablex
More powerful and customizable tables in Typst

## Roadmap

- [ ] `#table` parity
    - [ ] `columns:`, `rows:`
        - [X] Basic support
        - [X] Accept a single size to mean a single column
        - [X] Adjust `auto` columns and rows
        - [X] Accept integers to mean multiple `auto`
        - [X] Basic unit conversion (em -> pt, etc.)
        - [X] Ratio unit conversion (100% -> page width...)
        - [ ] Fractional unit conversion based on available space (1fr, 2fr -> 1/3, 2/3)
        - [ ] Shrink `auto` columns based on available space
    - [X] `fill`
        - [X] Basic support (`color` for general fill)
        - [X] Accept a function (`(row, column) => color`)
    - [X] `align`
        - [X] Basic support (`alignment` and `2d alignment` apply to all cells)
        - [X] Accept a function (`(row, column) => alignment/2d alignment`)
    - [X] `inset`
    - [ ] `gutter`
        - [ ] Basic support using invisible columns/maybe rows
            - [ ] `column-gutter`
            - [ ] `row-gutter`
        - [ ] Hline, vline adaptations
    - [X] `stroke`
        - [X] Basic support (change all lines, vline or hline, without override)
        - [X] `none` for no stroke
    - [X] Default to lines on every row and column
- [ ] New features for `#tablex`
    - [X] Basic types (`cellx`, `hline`, `vline`)
    - [X] `hline`, `vline`
        - [X] Auto-positioning when placed among cells
        - [X] Arbitrary positioning
        - [X] Allow customizing `stroke`
    - [X] `colspan`, `rowspan`
        - [X] Interrupt `hline` and `vline` with `end: auto`
        - [X] Support simultaneous col/rowspan with `cellx(colspan:, rowspan:)`
        - [X] Support nesting colspan/rowspan (`colspan(rowspan())`)
        - [X] Support cell attributes (e.g. `colspan(2, align: left)[a]`)
        - [X] Reliably detect conflicts
    - [ ] Repeating headers
        - [X] Basic support (first row group repeats on every page)
        - [ ] `repeat-header`: Control header repetition
            - [ ] `true`: Repeat on all pages
            - [ ] integer: Repeat for the next 'n' pages
            - [ ] array of integers: Repeat on those (relative) pages
            - [ ] `false` (default): Do not repeat
        - [ ] `header`: Indicate what to consider as a "header"
            - [ ] integer: At least first 'n' rows are a header (plus whatever rowspans show up there)
                - [ ] Defaults to 1
            - [ ] `none` or `0`: no header (disables header repetition regardless of `repeat-header`)
    - [ ] `cellx`
        - [X] Auto-positioning based on order and columns
        - [X] Place empty cells when there are too many
        - [X] Allow arbitrary positioning with `cellx(x:, y:)`
        - [X] Allow `align` override
        - [X] Allow `fill` override
        - [X] Allow `inset` override
            - [X] Works properly only with `auto` cols/rows
        - [ ] Dynamic content (maybe shortcut for `map-cells` on a single cell)
    - [X] Auto-lines
        - [X] `auto-hlines` - `true` to place on all lines without hlines, `false` otherwise
        - [X] `auto-vlines` - similar
        - [X] `auto-lines` - controls both simultaneously (defaults to `true`)
    - [ ] Iteration attributes
        - [ ] `map-cells` - Customize every single cell
        - [ ] `map-hlines` - Customize each horizontal line
        - [ ] `map-vlines` - Customize each vertical line
        - [ ] `map-rows` - Customize entire rows of cells
        - [ ] `map-cols` - Customize entire columns of cells
